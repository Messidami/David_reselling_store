<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="css/style.css"/>
  <title>David Resell Store</title>
</head>
<body>

<!-- Toast Notification -->
<div id="toast">Product added to cart!</div>

<!-- Landing Page -->
<div id="landingPage">
  <h1>Welcome to David Resell Store</h1>
  <p>Your #1 trusted platform to resell premium items like AirPods, Colognes, Wristwatches, and Accessories.</p>
  <button id="enterStoreBtn">Enter Store</button>
</div>

<!-- Store Main Content -->
<div class="container">

  <header>
    <img src="css/imaage/ChatGPT Image Jun 15, 2025, 06_52_05 PM.png" alt="David Resell Store Logo">
  </header>

  <section id="landing">
    <h2>Explore Our Best Reselling Products</h2>
    <p>All items listed are tested, verified, and recommended for reselling.</p>
  </section>

  <div id="searchBar">
    <input type="text" id="searchInput" placeholder="Search products..." />
    <select id="categoryFilter">
      <option value="">All Categories</option>
      <option value="airpods">AirPods</option>
      <option value="cologne">Cologne</option>
      <option value="wristwatch">Wristwatch</option>
      <option value="accessory">Accessories</option>
    </select>
  </div>

  <div class="grid" id="productContainer"></div>

  <div id="cartPreview">
    <h3>Your Cart</h3>
    <ul id="cartItems"></ul>
    <div id="totalAmount"></div>
    <button id="clearCartBtn">Clear Cart</button>
  </div>

  <button id="checkoutBtn">Proceed to Checkout</button>

  <form id="checkoutForm">
    <h3>Checkout Details</h3>
    <input type="text" id="name" placeholder="Your Full Name" required />
    <input type="text" id="address" placeholder="Shipping Address" required />
    <input type="text" id="phone" placeholder="Phone Number" required />
    <textarea id="note" placeholder="Additional Note (optional)"></textarea>
    <button type="submit" id="submitOrder">Send Order</button>
  </form>

  <div id="contactLinks">
    <p>Choose where to send your order:</p>
    <a id="telegramLink" href="#" target="_blank">Send via Telegram</a>
    <a id="whatsappLink" href="#" target="_blank">Send via WhatsApp</a>
  </div>
</div>

<script>
const products = [
  { id: 1, name: 'AirPods Pro 2', price: 200, category: 'airpods' },
  { id: 2, name: 'AirPods 4', price: 180, category: 'airpods' },
  { id: 3, name: 'AirPods Pro Max', price: 250, category: 'airpods' },
  { id: 4, name: 'Cologne', price: 150, category: 'cologne' },
  { id: 5, name: 'Wristwatch', price: 300, category: 'wristwatch' },
  { id: 6, name: 'Power Bank', price: 60, category: 'accessory' },
  { id: 7, name: 'Bluetooth Speaker', price: 75, category: 'accessory' },
  { id: 8, name: 'Wireless Charger Pad', price: 45, category: 'accessory' },
  { id: 9, name: 'iPhone Case', price: 20, category: 'accessory' },
  { id: 10, name: 'Gaming Headset', price: 80, category: 'accessory' },
  { id: 11, name: 'Smart Light Bulb', price: 25, category: 'accessory' },
  { id: 12, name: 'Smart Band', price: 55, category: 'accessory' },
  { id: 13, name: 'Mini Projector', price: 110, category: 'accessory' },
  { id: 14, name: 'Wireless Mouse', price: 35, category: 'accessory' },
  { id: 15, name: 'Webcam 1080p', price: 50, category: 'accessory' },
];

const cologneOptions = ['Dior Sauvage', 'Bleu de Chanel', 'Creed Aventus', 'Tom Ford Noir'];
const watchOptions = ['Rolex Submariner', 'Apple Watch S8', 'Casio G-Shock', 'Omega Seamaster'];
const cart = [];

function showToast(message) {
  const toast = document.getElementById('toast');
  toast.textContent = message;
  toast.style.display = 'block';
  setTimeout(() => {
    toast.style.display = 'none';
  }, 3000);
}

function renderProducts(filterText = '', category = '') {
  const container = document.getElementById('productContainer');
  container.innerHTML = '';
  const filtered = products.filter(p =>
    p.name.toLowerCase().includes(filterText.toLowerCase()) &&
    (category === '' || p.category === category)
  );
  filtered.forEach(product => {
    const card = document.createElement('div');
    card.className = 'card';
    let variantHTML = '';
    if (product.category === 'cologne') {
      variantHTML = `<select class="variant-select" id="variant-${product.id}">${cologneOptions.map(opt => `<option value="${opt}">${opt}</option>`).join('')}</select>`;
    } else if (product.category === 'wristwatch') {
      variantHTML = `<select class="variant-select" id="variant-${product.id}">${watchOptions.map(opt => `<option value="${opt}">${opt}</option>`).join('')}</select>`;
    }
    card.innerHTML = `
      <div class="product-image img-${product.id}"></div>
      <h5>${product.name}</h5>
      <p>$${product.price}</p>
      ${variantHTML}
      <input type="number" min="1" value="1" id="qty-${product.id}" />
      <button onclick="addToCart(${product.id})">Add to Cart</button>
    `;
    container.appendChild(card);
  });
}

function addToCart(productId) {
  const product = products.find(p => p.id === productId);
  const qty = parseInt(document.getElementById(`qty-${productId}`).value);
  let variant = '';
  const variantSelect = document.getElementById(`variant-${productId}`);
  if (variantSelect) variant = variantSelect.value;
  const existing = cart.find(item => item.id === productId && item.variant === variant);
  if (existing) {
    existing.qty += qty;
  } else {
    cart.push({ ...product, qty, variant });
  }
  updateCartPreview();
  showToast(`${product.name}${variant ? ' - ' + variant : ''} added to cart`);
}

function updateCartPreview() {
  const cartItems = document.getElementById('cartItems');
  const totalAmount = document.getElementById('totalAmount');
  cartItems.innerHTML = '';
  let total = 0;
  if (cart.length === 0) {
    cartItems.innerHTML = '<li>Your cart is empty.</li>';
    totalAmount.textContent = '';
    return;
  }
  cart.forEach((item, index) => {
    const li = document.createElement('li');
    const itemTotal = item.qty * item.price;
    total += itemTotal;
    li.innerHTML = `
      <span>${item.name}${item.variant ? ' - ' + item.variant : ''}</span>
      <div>
        <input type="number" min="1" value="${item.qty}" onchange="changeQty(${index}, this.value)" />
        <span>$${itemTotal}</span>
        <button class="remove-btn" onclick="removeItem(${index})">X</button>
      </div>
    `;
    cartItems.appendChild(li);
  });
  totalAmount.textContent = `Total: $${total}`;
}

function changeQty(index, newQty) {
  cart[index].qty = parseInt(newQty);
  updateCartPreview();
}

function removeItem(index) {
  cart.splice(index, 1);
  updateCartPreview();
}

document.getElementById('enterStoreBtn').addEventListener('click', () => {
  document.getElementById('landingPage').style.display = 'none';
  document.querySelector('.container').style.display = 'block';
});

window.addEventListener('DOMContentLoaded', () => {
  renderProducts();
  updateCartPreview();
  document.getElementById('clearCartBtn').onclick = () => {
    cart.length = 0;
    updateCartPreview();
  };
  document.getElementById('checkoutBtn').onclick = () => {
    if (cart.length === 0) return alert('Cart is empty!');
    document.getElementById('checkoutForm').style.display = 'block';
  };
  document.getElementById('checkoutForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const name = document.getElementById('name').value;
    const address = document.getElementById('address').value;
    const phone = document.getElementById('phone').value;
    const note = document.getElementById('note').value;
    const summary = cart.map(item => `\u2022 ${item.name} ${item.variant || ''} x${item.qty}`).join('%0A');
    const total = cart.reduce((sum, item) => sum + (item.qty * item.price), 0);
    const message = `Order Summary:%0A${summary}%0A%0ATotal: $${total}%0A%0AName: ${name}%0AAddress: ${address}%0APhone: ${phone}%0ANote: ${note}`;
    document.getElementById('telegramLink').href = `https://t.me/amelia_james_pod?start=${encodeURIComponent(message)}`;
    document.getElementById('whatsappLink').href = `https://wa.me/2349060195764?text=${encodeURIComponent(message)}`;
    document.getElementById('contactLinks').style.display = 'block';
    alert('Order ready to send.');
  });
  document.getElementById('searchInput').addEventListener('input', (e) => {
    const filterText = e.target.value;
    const category = document.getElementById('categoryFilter').value;
    renderProducts(filterText, category);
  });
  document.getElementById('categoryFilter').addEventListener('change', (e) => {
    const category = e.target.value;
    const filterText = document.getElementById('searchInput').value;
    renderProducts(filterText, category);
  });
});
</script>
</body>
</html>
